# ============================================
# FraudGuard® reCAPTCHA Configuration
# ============================================

# Server Configuration
PORT=3000

# Google reCAPTCHA v2 Credentials
# Get your keys at: https://www.google.com/recaptcha/admin/create
RECAPTCHA_SITE_KEY=your_site_key_here
RECAPTCHA_SECRET=your_secret_key_here

# ============================================
# Redis Configuration (Fraud Score Storage)
# ============================================

# Redis Connection URL
# Format: redis://[username:password@]host:port[/database]
# Local: redis://localhost:6379
# Remote: redis://user:pass@redis-server.com:6379
REDIS_URL=redis://localhost:6379

# Fraud Scoring Configuration
BLOCK_THRESHOLD=100           # Score threshold for automatic IP blocking
BLOCK_TTL=900                 # Block duration in seconds (900 = 15 minutes)
SCORE_DECAY_INTERVAL=3600     # Decay interval in seconds (3600 = 1 hour)
SCORE_DECAY_AMOUNT=10         # Points to decrease per decay interval

# Admin Dashboard Authentication
# Generate a secure token: openssl rand -hex 32
ADMIN_TOKEN=admin-secret-token-change-this-in-production

# ============================================
# HOW TO GET YOUR reCAPTCHA KEYS:
# ============================================
# 1. Go to https://www.google.com/recaptcha/admin/create
# 2. Register a new site with these settings:
#    - Label: FraudGuard Production (or any name)
#    - reCAPTCHA type: reCAPTCHA v2 → "I'm not a robot" Checkbox
#    - Domains: localhost (for testing), your-domain.com (for production)
#    - Accept terms and submit
# 3. Copy the Site Key and Secret Key
# 4. Paste them in your .env file (NOT this example file)
#
# SECURITY WARNING:
# - NEVER commit your .env file to version control
# - The .env file should be in .gitignore
# - Site Key is public (safe to expose in frontend)
# - Secret Key must NEVER be exposed (server-side only)
# ============================================

# ============================================
# SWITCHING TO reCAPTCHA v3 (INVISIBLE):
# ============================================
# 1. Create a new reCAPTCHA v3 site at the URL above
# 2. Update frontend (public/index.html):
#    - Change script to: https://www.google.com/recaptcha/api.js?render=YOUR_SITE_KEY
#    - Remove visible checkbox widget
#    - Execute on page load or specific actions:
#      grecaptcha.ready(() => {
#        grecaptcha.execute('YOUR_SITE_KEY', {action: 'login'})
#          .then(token => { /* send to server */ });
#      });
# 3. Backend verification stays the same (server.js)
# 4. v3 returns a score (0.0-1.0) instead of success/fail
#    - Check: if (data.score >= 0.5) { /* likely human */ }
# ============================================

# ============================================
# SWITCHING TO hCAPTCHA (PRIVACY-FOCUSED):
# ============================================
# 1. Register at https://www.hcaptcha.com/
# 2. Get Site Key and Secret Key
# 3. Update frontend script:
#    <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
# 4. Change widget class from "g-recaptcha" to "h-captcha"
# 5. Update backend verification URL to:
#    https://hcaptcha.com/siteverify
# 6. POST params remain the same: secret, response, remoteip
# ============================================

# Optional: Node Environment
NODE_ENV=development
